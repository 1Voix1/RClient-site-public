<!DOCTYPE html>
<html lang="ru" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>RClient - Современный DDNet Клиент</title>
    <meta name="description" content="RClient — улучшенный клиент DDRaceNetwork, основанный на Tater Client, с добавлением функций из Pulse Client и Entity Client.">
    <meta name="keywords" content="RClient, Rushie Client, DDNet, DDNet Client, Tater Client, Pulse Client, Entity Client, клиент ddnet">
    <link rel="canonical" href="https://rushie-client.ru/">

    <!-- Open Graph -->
    <meta property="og:title" content="RClient - Современный DDNet Клиент">
    <meta property="og:description" content="Улучшенный клиент DDRaceNetwork с расширенными возможностями.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://rushie-client.ru">
    <meta property="og:image" content="https://placehold.co/1200x630/0f172a/38bdf8?text=RClient">

    <!-- Favicon -->
    <link rel="icon" href="https://placehold.co/32x32/38bdf8/ffffff?text=R">

    <!-- Scripts and Styles -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:wght@600;700;800&display=swap" rel="stylesheet">

    <style>
        /* Пользовательские стили для улучшения дизайна */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #020617; /* slate-950 */
            color: #e2e8f0; /* slate-200 */
        }
        h1, h2, h3, .font-poppins {
            font-family: 'Poppins', sans-serif;
        }
        .gradient-text {
            background: linear-gradient(135deg, #7dd3fc, #0ea5e9); /* sky-300 to sky-500 */
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .glass-card {
            background: rgba(15, 23, 42, 0.7); /* slate-900 with opacity */
            backdrop-filter: blur(12px);
            border: 1px solid rgba(56, 189, 248, 0.1); /* sky-400 with opacity */
            border-radius: 1.5rem; /* 24px */
        }
        .modal-backdrop-custom {
            background-color: rgba(2, 6, 23, 0.8); /* slate-950 with opacity */
            backdrop-filter: blur(8px);
        }
        /* Custom background pattern */
        .main-bg {
            background-image: radial-gradient(circle at 1px 1px, rgba(56, 189, 248, 0.2) 1px, transparent 0);
            background-size: 2rem 2rem;
        }
        .main-bg-overlay {
            background: radial-gradient(ellipse at 50% 0%, rgba(14, 165, 233, 0.1), transparent 70%);
        }
        #loading-indicator {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 0.5rem;
        }
    </style>
</head>
<body class="overflow-x-hidden antialiased">

<!-- Переключатель языка -->
<div class="fixed top-4 right-4 z-50 flex items-center gap-1 p-1 rounded-full bg-slate-900/50 backdrop-blur-sm border border-slate-700">
    <button class="btn-lang px-3 py-1 text-sm font-semibold rounded-full transition-all duration-300" onclick="changeLanguage('en')" id="lang-en">EN</button>
    <button class="btn-lang px-3 py-1 text-sm font-semibold rounded-full transition-all duration-300" onclick="changeLanguage('ru')" id="lang-ru">RU</button>
</div>

<!-- Главный раздел -->
<header class="relative min-h-screen flex items-center justify-center text-center overflow-hidden pt-20 pb-10 main-bg">
    <div class="absolute inset-0 main-bg-overlay"></div>
    <div class="absolute bottom-0 left-0 right-0 h-48 bg-gradient-to-t from-[#020617] to-transparent"></div>
    <div class="container mx-auto px-6 relative z-10">
        <h1 class="text-5xl md:text-7xl lg:text-8xl font-extrabold mb-4" data-aos="fade-down">
            <span class="gradient-text" data-i18n="hero.title">RClient для DDNet</span>
        </h1>
        <p class="max-w-3xl mx-auto text-lg md:text-xl text-slate-400 mb-8" data-aos="fade-down" data-aos-delay="200" data-i18n="hero.subtitle">
            Ощутите новый уровень игры в DDRaceNetwork. Основан на Tater Client с лучшими функциями из Pulse и Entity клиентов.
        </p>
        <div class="flex justify-center items-center flex-wrap gap-4" data-aos="fade-up" data-aos-delay="400">
            <a href="#download" class="px-8 py-4 text-lg font-bold text-white bg-sky-500 rounded-full shadow-lg shadow-sky-500/30 hover:bg-sky-600 transform hover:-translate-y-1 transition-all duration-300">
                <span data-i18n="hero.button">Скачать</span>
            </a>
            <a href="https://discord.gg/wUFTVAGVGa" target="_blank" class="px-8 py-4 text-lg font-bold text-white bg-slate-800/80 border border-slate-700 rounded-full hover:bg-slate-700 transform hover:-translate-y-1 transition-all duration-300 flex items-center gap-2">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M20.283,3.957H3.717a1.037,1.037,0,0,0-1.021,1.156L4.5,17.433a1.037,1.037,0,0,0,1.021.89h11.96a1.037,1.037,0,0,0,1.021-.89l1.8-12.32A1.037,1.037,0,0,0,20.283,3.957ZM8.63,14.009a1.556,1.556,0,1,1,1.556-1.556A1.556,1.556,0,0,1,8.63,14.009Zm6.74,0a1.556,1.556,0,1,1,1.556-1.556A1.556,1.556,0,0,1,15.37,14.009Z"/></svg>
                Discord
            </a>
        </div>
    </div>
</header>

<main class="container mx-auto px-6">
    <!-- Секция "Основа клиента" -->
    <section id="about" class="py-20">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <!-- Tater Client -->
            <div class="glass-card p-8" data-aos="fade-up">
                <h3 class="font-poppins text-2xl font-bold mb-3" data-i18n="about.tater.title">Основа: Tater Client</h3>
                <p class="text-slate-400" data-i18n="about.tater.description">RClient построен на базе Tater Client, используя его оптимизированную производительность как фундамент.</p>
            </div>
            <!-- Pulse Client -->
            <div class="glass-card p-8" data-aos="fade-up" data-aos-delay="150">
                <h3 class="font-poppins text-2xl font-bold mb-3" data-i18n="about.pulse.title">Вдохновение: Pulse Client</h3>
                <p class="text-slate-400" data-i18n="about.pulse.description">Мы взяли и улучшили самые полезные функции из Pulse, такие как кастомизация лазеров и меню в табе.</p>
            </div>
            <!-- Entity Client -->
            <div class="glass-card p-8" data-aos="fade-up" data-aos-delay="300">
                <h3 class="font-poppins text-2xl font-bold mb-3" data-i18n="about.entity.title">Дополнение: Entity Client</h3>
                <p class="text-slate-400" data-i18n="about.entity.description">Интегрировали полезные QoL-функции из Entity, чтобы сделать ваш игровой опыт еще комфортнее.</p>
            </div>
        </div>
    </section>

    <!-- Раздел "Список функций" -->
    <section id="feature-list" class="py-20">
        <h2 class="text-4xl md:text-5xl font-bold text-center mb-16 gradient-text" data-aos="fade-up" data-i18n="feature_list.title">Что внутри клиента?</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <!-- Функция 1 -->
            <div class="glass-card overflow-hidden" data-aos="fade-up">
                <img src="https://placehold.co/800x450/0f172a/38bdf8?text=Скриншот+функции+1" alt="Скриншот функции 1" class="w-full h-auto object-cover">
                <div class="p-6">
                    <h3 class="text-2xl font-bold mb-2" data-i18n="feature_list.feature1.title">Поиск/Копирование скинов</h3>
                    <p class="text-slate-400" data-i18n="feature_list.feature1.description">Удобный поиск и копирование скинов прямо в игре. Найдите любой скин по нику игрока.</p>
                </div>
            </div>
            <!-- Функция 2 -->
            <div class="glass-card overflow-hidden" data-aos="fade-up" data-aos-delay="150">
                <img src="https://placehold.co/800x450/0f172a/38bdf8?text=Скриншот+функции+2" alt="Скриншот функции 2" class="w-full h-auto object-cover">
                <div class="p-6">
                    <h3 class="text-2xl font-bold mb-2" data-i18n="feature_list.feature2.title">Улучшенные лазеры</h3>
                    <p class="text-slate-400" data-i18n="feature_list.feature2.description">Настраивайте цвет и толщину лазеров для лучшей видимости, как в Pulse Client.</p>
                </div>
            </div>
            <!-- Функция 3 -->
            <div class="glass-card overflow-hidden" data-aos="fade-up">
                <img src="https://placehold.co/800x450/0f172a/38bdf8?text=Скриншот+функции+3" alt="Скриншот функции 3" class="w-full h-auto object-cover">
                <div class="p-6">
                    <h3 class="text-2xl font-bold mb-2" data-i18n="feature_list.feature3.title">Автоматическая смена клана</h3>
                    <p class="text-slate-400" data-i18n="feature_list.feature3.description">Клиент может автоматически изменять клан в зависимости от сервера, на котором вы играете.</p>
                </div>
            </div>
            <!-- Функция 4 -->
            <div class="glass-card overflow-hidden" data-aos="fade-up" data-aos-delay="150">
                <img src="https://placehold.co/800x450/0f172a/38bdf8?text=Скриншот+функции+4" alt="Скриншот функции 4" class="w-full h-auto object-cover">
                <div class="p-6">
                    <h3 class="text-2xl font-bold mb-2" data-i18n="feature_list.feature4.title">Игровое меню в табе</h3>
                    <p class="text-slate-400" data-i18n="feature_list.feature4.description">Взаимодействуйте с игроками прямо через таблицу лидеров, используя удобное контекстное меню.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Раздел "Как установить" -->
    <section id="install" class="py-20">
        <h2 class="text-4xl md:text-5xl font-bold text-center mb-16 gradient-text" data-aos="fade-up" data-i18n="installation.title">Простая установка</h2>
        <div class="max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
            <!-- Шаг 1 -->
            <div class="flex flex-col items-center" data-aos="fade-up">
                <div class="w-16 h-16 flex items-center justify-center text-2xl font-bold bg-slate-800 border-2 border-sky-500 rounded-full mb-4 text-sky-400">1</div>
                <h3 class="text-xl font-bold mb-2" data-i18n="installation.step1.title">Скачать клиент</h3>
                <p class="text-slate-400" data-i18n="installation.step1.description">Загрузите последнюю версию для вашей операционной системы.</p>
            </div>
            <!-- Шаг 2 -->
            <div class="flex flex-col items-center" data-aos="fade-up" data-aos-delay="150">
                <div class="w-16 h-16 flex items-center justify-center text-2xl font-bold bg-slate-800 border-2 border-sky-500 rounded-full mb-4 text-sky-400">2</div>
                <h3 class="text-xl font-bold mb-2" data-i18n="installation.step2.title">Заменить файлы</h3>
                <p class="text-slate-400" data-i18n="installation.step2.description">Замените исполняемый файл в папке с официальным клиентом DDNet.</p>
            </div>
            <!-- Шаг 3 -->
            <div class="flex flex-col items-center" data-aos="fade-up" data-aos-delay="300">
                <div class="w-16 h-16 flex items-center justify-center text-2xl font-bold bg-slate-800 border-2 border-sky-500 rounded-full mb-4 text-sky-400">3</div>
                <h3 class="text-xl font-bold mb-2" data-i18n="installation.step3.title">Запустить игру</h3>
                <p class="text-slate-400" data-i18n="installation.step3.description">Запускайте игру и наслаждайтесь новыми возможностями!</p>
            </div>
        </div>
    </section>

    <!-- Раздел "Скриншоты" -->
    <section id="screenshots" class="py-20">
        <h2 class="text-4xl md:text-5xl font-bold text-center mb-12 gradient-text" data-aos="fade-up" data-i18n="screenshots.title">Галерея</h2>
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
            <div class="group relative overflow-hidden rounded-2xl cursor-pointer" data-aos="fade-up" onclick="openModal('modal1')">
                <img src="https://placehold.co/600x400/0f172a/ffffff?text=Интерфейс" alt="Скриншот 1" class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-110">
                <div class="absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center p-4">
                    <p class="text-white text-xl font-bold text-center">Основной интерфейс</p>
                </div>
            </div>
            <div class="group relative overflow-hidden rounded-2xl cursor-pointer" data-aos="fade-up" data-aos-delay="150" onclick="openModal('modal2')">
                <img src="https://placehold.co/600x400/0f172a/ffffff?text=Настройки" alt="Скриншот 2" class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-110">
                <div class="absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center p-4">
                    <p class="text-white text-xl font-bold text-center">Гибкие настройки</p>
                </div>
            </div>
            <div class="group relative overflow-hidden rounded-2xl cursor-pointer" data-aos="fade-up" data-aos-delay="300" onclick="openModal('modal3')">
                <img src="https://placehold.co/600x400/0f172a/ffffff?text=Геймплей" alt="Скриншот 3" class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-110">
                <div class="absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center p-4">
                    <p class="text-white text-xl font-bold text-center">Игровой процесс</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Модальные окна для скриншотов -->
    <div id="modal1" class="fixed inset-0 z-50 hidden items-center justify-center p-4 modal-backdrop-custom" onclick="closeModal('modal1')">
        <div class="max-w-4xl max-h-full" onclick="event.stopPropagation()"><img src="https://placehold.co/1200x800/0f172a/ffffff?text=Интерфейс" class="rounded-lg shadow-2xl" alt="Скриншот 1"></div>
    </div>
    <div id="modal2" class="fixed inset-0 z-50 hidden items-center justify-center p-4 modal-backdrop-custom" onclick="closeModal('modal2')">
        <div class="max-w-4xl max-h-full" onclick="event.stopPropagation()"><img src="https://placehold.co/1200x800/0f172a/ffffff?text=Настройки" class="rounded-lg shadow-2xl" alt="Скриншот 2"></div>
    </div>
    <div id="modal3" class="fixed inset-0 z-50 hidden items-center justify-center p-4 modal-backdrop-custom" onclick="closeModal('modal3')">
        <div class="max-w-4xl max-h-full" onclick="event.stopPropagation()"><img src="https://placehold.co/1200x800/0f172a/ffffff?text=Геймплей" class="rounded-lg shadow-2xl" alt="Скриншот 3"></div>
    </div>


    <!-- Раздел "Скачать" -->
    <section id="download" class="py-20">
        <div class="glass-card p-8 md:p-16 text-center">
            <h2 class="text-4xl md:text-5xl font-bold text-center mb-4 gradient-text" data-aos="fade-up" data-i18n="download.title">Скачать RClient</h2>
            <p class="max-w-2xl mx-auto text-lg text-slate-400 mb-12" data-aos="fade-up" data-aos-delay="100" data-i18n="download.subtitle">Выберите вашу платформу и начните играть уже сегодня.</p>

            <div id="loading-indicator" class="mb-4">
                <div class="flex justify-center items-center gap-4">
                    <svg class="animate-spin h-8 w-8 text-sky-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>
                    <p class="text-lg" data-i18n="download.loading">Загрузка версий...</p>
                </div>
            </div>

            <div id="download-buttons" style="display: none;">
                <div class="flex flex-wrap justify-center gap-6 mb-8" id="platform-buttons">
                    <!-- Кнопки вставляются через JS -->
                </div>
                <div data-aos="fade-up" data-aos-delay="200">
                    <a href="https://github.com/1Voix1/RushieClient-ddnet-public/releases" class="text-slate-400 hover:text-sky-400 transition-colors" target="_blank" data-i18n="download.history">История версий на GitHub</a>
                </div>
            </div>
            <div id="download-error" class="max-w-md mx-auto p-4 bg-red-900/50 border border-red-500 rounded-lg" style="display: none;">
                <h5 class="font-bold" data-i18n="download.error.title">Ошибка загрузки</h5>
                <p class="text-sm" data-i18n="download.error.message">Не удалось получить файлы. Пожалуйста, перейдите на GitHub для скачивания вручную.</p>
            </div>
        </div>
    </section>
</main>

<!-- Подвал -->
<footer class="py-8">
    <div class="container mx-auto px-6 text-center text-slate-500">
        <p class="mb-2 font-poppins" data-i18n="footer.name">© 2024 RClient</p>
        <p class="text-sm" data-i18n="footer.description">Создано для сообщества DDNet. Все права защищены.</p>
    </div>
</footer>

<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        AOS.init({
            duration: 800,
            once: true,
            easing: 'ease-in-out'
        });

        // --- ЛОГИКА ДЛЯ МОДАЛЬНЫХ ОКОН ---
        window.openModal = (modalId) => {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.classList.remove('hidden');
                modal.classList.add('flex');
                document.body.classList.add('overflow-hidden');
            }
        }

        window.closeModal = (modalId) => {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.classList.add('hidden');
                modal.classList.remove('flex');
                document.body.classList.remove('overflow-hidden');
            }
        }

        document.addEventListener('keydown', (event) => {
            if (event.key === 'Escape') {
                document.querySelectorAll('[id^="modal"]').forEach(modal => closeModal(modal.id));
            }
        });

        // --- ЛОГИКА ПЕРЕКЛЮЧЕНИЯ ЯЗЫКА И ЗАГРУЗКИ РЕЛИЗОВ ---
        const translations = {
            en: { 'hero.title': 'RClient for DDNet', 'hero.subtitle': 'Experience the next level of DDRaceNetwork. Based on Tater Client with the best features from Pulse and Entity clients.', 'hero.button': 'Download', 'about.tater.title': 'Base: Tater Client', 'about.tater.description': 'RClient is built on the Tater Client, using its optimized performance as a foundation.', 'about.pulse.title': 'Inspired by: Pulse Client', 'about.pulse.description': 'We have taken and improved the most useful features from Pulse, such as laser customization and the scoreboard menu.', 'about.entity.title': 'Enhanced with: Entity Client', 'about.entity.description': 'We integrated useful QoL features from Entity to make your gaming experience even more comfortable.', 'feature_list.title': 'What\'s inside the client?', 'feature_list.feature1.title': 'Find/Copy Skins', 'feature_list.feature1.description': 'Conveniently search and copy skins directly in the game. Find any skin by player nickname.', 'feature_list.feature2.title': 'Enhanced Lasers', 'feature_list.feature2.description': 'Customize laser color and thickness for better visibility, just like in Pulse Client.', 'feature_list.feature3.title': 'Auto Clan Change', 'feature_list.feature3.description': 'The client can automatically change your clan depending on the server you are playing on.', 'feature_list.feature4.title': 'Ingame Scoreboard Menu', 'feature_list.feature4.description': 'Interact with players directly through the scoreboard using a convenient context menu.', 'installation.title': 'Easy Installation', 'installation.step1.title': 'Download Client', 'installation.step1.description': 'Download the latest version for your operating system.', 'installation.step2.title': 'Replace Files', 'installation.step2.description': 'Replace the executable file in your official DDNet client folder.', 'installation.step3.title': 'Launch Game', 'installation.step3.description': 'Launch the game and enjoy the new features!', 'download.title': 'Download RClient', 'download.subtitle': 'Choose your platform and start playing today.', 'download.loading': 'Loading versions...', 'download.error.title': 'Download Error', 'download.error.message': 'Failed to fetch files. Please visit GitHub to download manually.', 'download.windows': 'Windows', 'download.linux': 'Linux', 'download.macos': 'macOS', 'download.android': 'Android', 'footer.description': 'Created for the DDNet community. All rights reserved.', 'screenshots.title': 'Gallery', 'download.history': 'Version History on GitHub', 'footer.name': '© 2024 RClient' },
            ru: { 'hero.title': 'RClient для DDNet', 'hero.subtitle': 'Ощутите новый уровень игры в DDRaceNetwork. Основан на Tater Client с лучшими функциями из Pulse и Entity клиентов.', 'hero.button': 'Скачать', 'about.tater.title': 'Основа: Tater Client', 'about.tater.description': 'RClient построен на базе Tater Client, используя его оптимизированную производительность как фундамент.', 'about.pulse.title': 'Вдохновение: Pulse Client', 'about.pulse.description': 'Мы взяли и улучшили самые полезные функции из Pulse, такие как кастомизация лазеров и меню в табе.', 'about.entity.title': 'Дополнение: Entity Client', 'about.entity.description': 'Интегрировали полезные QoL-функции из Entity, чтобы сделать ваш игровой опыт еще комфортнее.', 'feature_list.title': 'Что внутри клиента?', 'feature_list.feature1.title': 'Поиск/Копирование скинов', 'feature_list.feature1.description': 'Удобный поиск и копирование скинов прямо в игре. Найдите любой скин по нику игрока.', 'feature_list.feature2.title': 'Улучшенные лазеры', 'feature_list.feature2.description': 'Настраивайте цвет и толщину лазеров для лучшей видимости, как в Pulse Client.', 'feature_list.feature3.title': 'Автоматическая смена клана', 'feature_list.feature3.description': 'Клиент может автоматически изменять клан в зависимости от сервера, на котором вы играете.', 'feature_list.feature4.title': 'Игровое меню в табе', 'feature_list.feature4.description': 'Взаимодействуйте с игроками прямо через таблицу лидеров, используя удобное контекстное меню.', 'installation.title': 'Простая установка', 'installation.step1.title': 'Скачать клиент', 'installation.step1.description': 'Загрузите последнюю версию для вашей операционной системы.', 'installation.step2.title': 'Заменить файлы', 'installation.step2.description': 'Замените исполняемый файл в папке с официальным клиентом DDNet.', 'installation.step3.title': 'Запустить игру', 'installation.step3.description': 'Запускайте игру и наслаждайтесь новыми возможностями!', 'download.title': 'Скачать RClient', 'download.subtitle': 'Выберите вашу платформу и начните играть уже сегодня.', 'download.loading': 'Загрузка версий...', 'download.error.title': 'Ошибка загрузки', 'download.error.message': 'Не удалось получить файлы. Пожалуйста, перейдите на GitHub для скачивания вручную.', 'download.windows': 'Windows', 'download.linux': 'Linux', 'download.macos': 'macOS', 'download.android': 'Android', 'footer.description': 'Создано для сообщества DDNet. Все права защищены.', 'screenshots.title': 'Галерея', 'download.history': 'История версий на GitHub', 'footer.name': '© 2024 RClient' }
        };

        const loadReleases = async () => {
            const loadingIndicator = document.getElementById('loading-indicator');
            const downloadButtons = document.getElementById('download-buttons');
            const downloadError = document.getElementById('download-error');
            const platformButtons = document.getElementById('platform-buttons');

            try {
                loadingIndicator.style.display = 'flex';
                downloadButtons.style.display = 'none';
                downloadError.style.display = 'none';
                platformButtons.innerHTML = '';

                const response = await fetch('https://api.github.com/repos/1Voix1/RushieClient-ddnet-public/releases/latest');
                if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);

                const release = await response.json();
                const currentLang = document.documentElement.lang || 'ru';
                const platformAssets = {};

                for (const asset of release.assets) {
                    const platform = detectPlatform(asset.name);
                    if (platform) {
                        if (!platformAssets[platform]) {
                            platformAssets[platform] = asset;
                        }
                    }
                }

                let buttonsHtml = '';
                const sortedPlatforms = ['windows', 'linux', 'macos', 'android'];

                sortedPlatforms.forEach(platform => {
                    if(platformAssets[platform]) {
                        buttonsHtml += createPlatformButton(platform, platformAssets[platform], currentLang);
                    }
                });

                if (buttonsHtml) {
                    platformButtons.innerHTML = buttonsHtml;
                    downloadButtons.style.display = 'block';
                } else {
                    throw new Error('No supported platforms found');
                }
            } catch (error) {
                console.error('Error loading releases:', error);
                downloadError.style.display = 'block';
            } finally {
                loadingIndicator.style.display = 'none';
                if (typeof AOS !== 'undefined') AOS.refresh();
            }
        }

        const changeLanguage = (lang) => {
            document.documentElement.lang = lang;
            document.querySelectorAll('[data-i18n]').forEach(element => {
                const key = element.getAttribute('data-i18n');
                if (translations[lang] && translations[lang][key]) {
                    element.innerHTML = translations[lang][key];
                }
            });

            const btnEn = document.getElementById('lang-en');
            const btnRu = document.getElementById('lang-ru');

            btnEn.classList.toggle('bg-sky-500', lang === 'en');
            btnEn.classList.toggle('text-white', lang === 'en');
            btnEn.classList.toggle('text-slate-400', lang !== 'en');

            btnRu.classList.toggle('bg-sky-500', lang === 'ru');
            btnRu.classList.toggle('text-white', lang === 'ru');
            btnRu.classList.toggle('text-slate-400', lang !== 'ru');

            localStorage.setItem('preferred-language', lang);

            // Заменим вызов loadReleases на проверку и вызов
            if (typeof loadReleases === 'function') {
                loadReleases();
            }
        };
        window.changeLanguage = changeLanguage;

        const savedLanguage = localStorage.getItem('preferred-language') || 'ru';
        changeLanguage(savedLanguage);

        const platformConfig = {
            'windows': { icon: '<svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24"><path d="M3,12V6.75L9,5.43V11.91L3,12M21,12V4.5L10.5,3V11.91L21,12M3,13L9,13.09V18.57L3,17.25V13M21,13L10.5,13.09V21L21,19.5V13Z" /></svg>', name: 'download.windows', keywords: ['windows'] },
            'linux': { icon: '<svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24"><path d="M21.2,12.2C21.2,12.2,21.2,12.2,21.2,12.2C21.4,12,21.5,11.7,21.5,11.4C21.5,10.7,21.2,10,20.5,10C19.8,10,19.4,10.5,19.4,11.2C19.4,11.5,19.5,11.7,19.7,11.9C19.7,11.9,19.8,12,19.8,12C19.2,12.6,18.4,13.1,17.6,13.4L18.4,9.6C19.1,9.3,19.6,8.8,20,8.1C20.6,7,20.4,5.8,19.5,5.1C18.7,4.4,17.5,4.3,16.4,5C15.8,5.3,15.3,5.8,15,6.4L12.5,1.2C12.3,0.5,11.7,0,11,0H10.8C10.1,0,9.5,0.5,9.3,1.2L6.8,6.5C6.5,5.8,6,5.3,5.4,5.1C4.3,4.4,3.1,4.6,2.3,5.4C1.4,6.2,1.3,7.5,2,8.5C2.4,9.1,3,9.5,3.6,9.7L4.3,13.4C3.4,13.1,2.6,12.6,2,12.1C2,12.1,2.1,12,2.1,11.9C2.3,11.7,2.4,11.5,2.4,11.2C2.4,10.5,2,10,1.3,10C0.6,10,0.3,10.7,0.3,11.4C0.3,11.7,0.4,12,0.6,12.2C0.6,12.2,0.6,12.2,0.6,12.2C1.4,14,3.5,15.1,3.5,17.2V20.7C3.5,21.3,4,21.8,4.5,21.8H6.9C7.4,21.8,7.9,21.3,7.9,20.7V17.1C7.9,15.4,8.5,14,9.6,13.2L9.1,18.4L8.1,18.8C7.6,19,7.1,19.6,7.1,20.2C7.1,21.2,7.9,22,8.8,22H9.2C10.1,22,10.9,21.2,10.9,20.2C10.9,19.6,10.4,19,9.9,18.8L8.9,18.4L10.9,10.5L12,14.6L11,19.3C10.9,19.8,11.3,20.3,11.8,20.3H12C12.5,20.3,12.9,19.8,13,19.3L14.1,14.6L15.1,10.5L17.1,18.4L16.1,18.8C15.6,19,15.1,19.6,15.1,20.2C15.1,21.2,15.9,22,16.8,22H17.2C18.1,22,18.9,21.2,18.9,20.2C18.9,19.6,18.4,19,17.9,18.8L16.9,18.4L16.4,13.2C17.5,14,18.1,15.4,18.1,17.1V20.7C18.1,21.3,18.6,21.8,19.1,21.8H21.5C22,21.8,22.5,21.3,22.5,20.7V17.2C22.5,15.1,24.6,14,25.4,12.2C25.4,12.2,25.4,12.2,25.4,12.2Z" /></svg>', name: 'download.linux', keywords: ['ubuntu', 'linux'] },
            'macos': { icon: '<svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24"><path d="M19.1,11.4C19,10,18.3,10,18.3,10C16.5,9.9,15.8,8.8,15.8,8.8C14.8,7.4,14,7.5,14,7.5C12.9,7.5,12.2,8.1,11.7,8.1C11.2,8.1,10.5,7.6,9.6,7.6C8.4,7.6,7.5,8.5,7,9.3C6,10.6,5.3,12.8,6.8,15.6C7.5,17,8.4,18.5,9.8,18.5C11.1,18.5,11.5,17.7,12.8,17.7C14.1,17.7,14.5,18.5,15.9,18.5C17.3,18.5,18.1,17,18.8,15.6C19.3,14.6,19.4,14.2,19.4,14.2C19.3,14.2,19.3,12.9,19.1,11.4M15,5.1C15.4,4.7,15.9,4.2,16.2,3.7C15.6,3.6,14.9,3.8,14.4,4.2C13.8,4.7,13.4,5.4,13.5,6C14.1,6.2,14.7,5.7,15,5.1" /></svg>', name: 'download.macos', keywords: ['macos', 'mac'] },
            'android': { icon: '<svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24"><path d="M15,5H14V4H15M10,5H9V4H10M16,2H8A3,3 0 0,0 5,5V17A3,3 0 0,0 8,20H16A3,3 0 0,0 19,17V5A3,3 0 0,0 16,2M17,15H7V7H17V15Z" /></svg>', name: 'download.android', keywords: ['android'] }
        };

        const formatFileSize = (bytes) => {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }

        const detectPlatform = (filename) => {
            const lowerName = filename.toLowerCase();
            for (const [platform, config] of Object.entries(platformConfig)) {
                for (const keyword of config.keywords) {
                    if (lowerName.includes(keyword)) return platform;
                }
            }
            return null;
        }

        const createPlatformButton = (platform, asset, currentLang) => {
            const config = platformConfig[platform];
            const platformName = translations[currentLang][config.name] || platform.charAt(0).toUpperCase() + platform.slice(1);
            return `
                <a href="${asset.browser_download_url}" class="group flex flex-col items-center justify-center p-6 w-48 h-40 bg-slate-800/50 rounded-2xl text-center transition-all duration-300 border border-transparent hover:border-sky-500 hover:-translate-y-2" download data-aos="fade-up">
                    <div class="text-sky-400 text-4xl mb-3 group-hover:text-sky-300 transition-colors">${config.icon}</div>
                    <div class="text-xl font-bold">${platformName}</div>
                    <div class="text-sm text-slate-400">${formatFileSize(asset.size)}</div>
                </a>`;
        }

        loadReleases();
    });
</script>
</body>
</html>

